<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=9"/>
  <meta name="generator" content="Doxygen 1.8.14"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>compboost: Framework for COMPonentwise BOOSTing</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="search/searchdata.js"></script>
  <script type="text/javascript" src="search/search.js"></script>
  <link href='//fonts.googleapis.com/css?family=Rokkitt:400,700|Lato:400,300' rel='stylesheet' type='text/css'>
  <script defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" crossorigin="anonymous"></script>
  <script>
    function magnify(imgID, zoom) {
      var img, glass, w, h, bw;
      img = document.getElementById(imgID);
      /* create magnifier glass: */
      glass = document.createElement("DIV");
      glass.setAttribute("class", "img-magnifier-glass");
      w = glass.offsetWidth / 2;
      h = glass.offsetHeight / 2;
      /* insert magnifier glass: */
      img.parentElement.insertBefore(glass, img);
      /* set background properties for the magnifier glass: */
      glass.style.backgroundImage = "url('" + img.src + "')";
      glass.style.backgroundRepeat = "no-repeat";
      glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
      /* Move glass by the left margin of the image: */
      a = img.getBoundingClientRect();
      glass.style.marginLeft = a.left + "px";
      bw = 3;
      w = glass.offsetWidth / 2;
      h = glass.offsetHeight / 2;
      /* remove magnifier by default: */
      glass.setAttribute("class", "nocursor");
      /* execute a function when someone moves the magnifier glass over the image: */
      glass.addEventListener("mousemove", moveMagnifier);
      img.addEventListener("mousemove", moveMagnifier);
      /* and also for touch screens: */
      glass.addEventListener("touchmove", moveMagnifier);
      img.addEventListener("touchmove", moveMagnifier);
      /* remove magnifier when the curser isn't over the image: */
      glass.addEventListener("mouseout", removeLoupe);
      img.addEventListener("mouseout", removeLoupe);
      function moveMagnifier(e) {
       glass.setAttribute("class", "img-magnifier-glass");
       var pos, x, y;
       /*prevent any other actions that may occur when moving over the image*/
       e.preventDefault();
       /*get the cursor's x and y positions:*/
       pos = getCursorPos(e);
       x = pos.x;
       y = pos.y;
       /*prevent the magnifier glass from being positioned outside the image:*/
       if (x > img.width - (w / zoom))  { x = img.width - (w / zoom); }
       if (x < w / zoom)                { x = w / zoom; }
       if (y > img.height - (h / zoom)) { y = img.height - (h / zoom); }
       if (y < h / zoom)                { y = h / zoom; }
       /*set the position of the magnifier glass:*/
       glass.style.left = (x - w) + "px";
       glass.style.top = (y - h) + "px";
       /*display what the magnifier glass "sees":*/
       glass.style.backgroundPosition = "-" + ((x * zoom) - w + bw) + "px -" + ((y * zoom) - h + bw) + "px";
     }
     function getCursorPos(e) {
      var a, x = 0, y = 0;
      e = e || window.event;
      /*get the x and y positions of the image:*/
      a = img.getBoundingClientRect();
      /*calculate the cursor's x and y coordinates, relative to the image:*/
      x = e.pageX - a.left;
      y = e.pageY - a.top;
      /*consider any page scrolling:*/
      x = x - window.pageXOffset;
      y = y - window.pageYOffset;
      return {x : x, y : y};
    }
    function removeLoupe (e) {
      glass.setAttribute("class", "nocursor");
    }
  }
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mystyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0">
       <tbody>
         <tr style="height: 56px;">
          <td id="projectalign" style="padding-left: 0.5em;">
           <div id="projectname"><a href="https://schalkdaniel.github.io/compboost/"><i class="fas fa-home"></i></a> <span style="display:inline-block; width: 10px;"></span> compboost
           </div>
         </td>
       </tr>
     </tbody>
   </table>
 </div>
<!-- end header part --><!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelogger.html">logger</a></li><li class="navelem"><a class="el" href="classlogger_1_1_oob_risk_logger.html">OobRiskLogger</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlogger_1_1_oob_risk_logger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">logger::OobRiskLogger Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classlogger_1_1_logger.html" title="Abstract logger class with minimal requirements to all logger. ">Logger</a> class to log the out of bag risk.  
 <a href="classlogger_1_1_oob_risk_logger.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="logger_8h_source.html">logger.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for logger::OobRiskLogger:</div>
<div class="dyncontent">
<div class="center"><img src="classlogger_1_1_oob_risk_logger__inherit__graph.png" border="0" usemap="#logger_1_1_oob_risk_logger_inherit__map" alt="Inheritance graph"/></div>
<map name="logger_1_1_oob_risk_logger_inherit__map" id="logger_1_1_oob_risk_logger_inherit__map">
<area shape="rect" id="node2" href="classlogger_1_1_logger.html" title="Abstract logger class with minimal requirements to all logger. " alt="" coords="5,5,172,185"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for logger::OobRiskLogger:</div>
<div class="dyncontent">
<div class="center"><img src="classlogger_1_1_oob_risk_logger__coll__graph.png" border="0" usemap="#logger_1_1_oob_risk_logger_coll__map" alt="Collaboration graph"/></div>
<map name="logger_1_1_oob_risk_logger_coll__map" id="logger_1_1_oob_risk_logger_coll__map">
<area shape="rect" id="node2" href="classlogger_1_1_logger.html" title="Abstract logger class with minimal requirements to all logger. " alt="" coords="5,5,172,185"/>
<area shape="rect" id="node3" href="classloss_1_1_loss.html" title="Abstract loss class. " alt="" coords="196,13,379,178"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c4e307fe35f2c1f329b5cddc1bfe56d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a6c4e307fe35f2c1f329b5cddc1bfe56d">OobRiskLogger</a> (const bool &amp;, <a class="el" href="classloss_1_1_loss.html">loss::Loss</a> *, const double &amp;, std::map&lt; std::string, <a class="el" href="classdata_1_1_data.html">data::Data</a> *&gt;, const arma::vec &amp;)</td></tr>
<tr class="memdesc:a6c4e307fe35f2c1f329b5cddc1bfe56d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a6c4e307fe35f2c1f329b5cddc1bfe56d">More...</a><br /></td></tr>
<tr class="separator:a6c4e307fe35f2c1f329b5cddc1bfe56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948a89f02ac782c25a15c49c4a108c02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a948a89f02ac782c25a15c49c4a108c02">logStep</a> (const unsigned int &amp;, const arma::vec &amp;, const arma::vec &amp;, <a class="el" href="classblearner_1_1_baselearner.html">blearner::Baselearner</a> *, const double &amp;, const double &amp;)</td></tr>
<tr class="memdesc:a948a89f02ac782c25a15c49c4a108c02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log current step of compboost iteration for class <code><a class="el" href="classlogger_1_1_oob_risk_logger.html" title="Logger class to log the out of bag risk. ">OobRiskLogger</a></code>  <a href="#a948a89f02ac782c25a15c49c4a108c02">More...</a><br /></td></tr>
<tr class="separator:a948a89f02ac782c25a15c49c4a108c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1c8358ffcb5f5463b43f068ea21aa4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a5c1c8358ffcb5f5463b43f068ea21aa4">reachedStopCriteria</a> () const</td></tr>
<tr class="memdesc:a5c1c8358ffcb5f5463b43f068ea21aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop criteria is fulfilled if the relative improvement falls below <code>eps_for_break</code>  <a href="#a5c1c8358ffcb5f5463b43f068ea21aa4">More...</a><br /></td></tr>
<tr class="separator:a5c1c8358ffcb5f5463b43f068ea21aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74bfab14d3da0b10229c1ae99ab11337"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a74bfab14d3da0b10229c1ae99ab11337">getLoggedData</a> () const</td></tr>
<tr class="memdesc:a74bfab14d3da0b10229c1ae99ab11337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the data stored within the logger.  <a href="#a74bfab14d3da0b10229c1ae99ab11337">More...</a><br /></td></tr>
<tr class="separator:a74bfab14d3da0b10229c1ae99ab11337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d85a315dc9b6c1897a3164f4997207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#ac1d85a315dc9b6c1897a3164f4997207">clearLoggerData</a> ()</td></tr>
<tr class="memdesc:ac1d85a315dc9b6c1897a3164f4997207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the logger data.  <a href="#ac1d85a315dc9b6c1897a3164f4997207">More...</a><br /></td></tr>
<tr class="separator:ac1d85a315dc9b6c1897a3164f4997207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb230d22eea9b1c025e6ff95685c692c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#afb230d22eea9b1c025e6ff95685c692c">initializeLoggerPrinter</a> () const</td></tr>
<tr class="memdesc:afb230d22eea9b1c025e6ff95685c692c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the head of the trace which is printed to the console.  <a href="#afb230d22eea9b1c025e6ff95685c692c">More...</a><br /></td></tr>
<tr class="separator:afb230d22eea9b1c025e6ff95685c692c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab1638b5112232c86c2208b91f649fb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#acab1638b5112232c86c2208b91f649fb">printLoggerStatus</a> () const</td></tr>
<tr class="memdesc:acab1638b5112232c86c2208b91f649fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print status of current iteration into the console.  <a href="#acab1638b5112232c86c2208b91f649fb">More...</a><br /></td></tr>
<tr class="separator:acab1638b5112232c86c2208b91f649fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlogger_1_1_logger"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlogger_1_1_logger')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlogger_1_1_logger.html">logger::Logger</a></td></tr>
<tr class="memitem:ae39cfa15ba833840ae52889c09cac994 inherit pub_methods_classlogger_1_1_logger"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_logger.html#ae39cfa15ba833840ae52889c09cac994">getIfLoggerIsStopper</a> () const</td></tr>
<tr class="memdesc:ae39cfa15ba833840ae52889c09cac994 inherit pub_methods_classlogger_1_1_logger"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just a getter if the logger is also used as stopper.  <a href="classlogger_1_1_logger.html#ae39cfa15ba833840ae52889c09cac994">More...</a><br /></td></tr>
<tr class="separator:ae39cfa15ba833840ae52889c09cac994 inherit pub_methods_classlogger_1_1_logger"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85a309d218f9f006600cbaf2a348f52 inherit pub_methods_classlogger_1_1_logger"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_logger.html#aa85a309d218f9f006600cbaf2a348f52">~Logger</a> ()</td></tr>
<tr class="separator:aa85a309d218f9f006600cbaf2a348f52 inherit pub_methods_classlogger_1_1_logger"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a40d02b9eec15e823bb2d71cf2112d6ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classloss_1_1_loss.html">loss::Loss</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a40d02b9eec15e823bb2d71cf2112d6ed">used_loss</a></td></tr>
<tr class="memdesc:a40d02b9eec15e823bb2d71cf2112d6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used loss. <b>Note</b> that you can specify a different loss than the loss used for training.  <a href="#a40d02b9eec15e823bb2d71cf2112d6ed">More...</a><br /></td></tr>
<tr class="separator:a40d02b9eec15e823bb2d71cf2112d6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a9435107588888c891c88aead67159"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a00a9435107588888c891c88aead67159">tracked_oob_risk</a></td></tr>
<tr class="memdesc:a00a9435107588888c891c88aead67159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of OOB risk for every iteration.  <a href="#a00a9435107588888c891c88aead67159">More...</a><br /></td></tr>
<tr class="separator:a00a9435107588888c891c88aead67159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dccaf686895c4a3f9eb88a8f74e65fa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a6dccaf686895c4a3f9eb88a8f74e65fa">eps_for_break</a></td></tr>
<tr class="memdesc:a6dccaf686895c4a3f9eb88a8f74e65fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stopping criteria, stop if \((\mathrm{risk}_{i-1} - \mathrm{risk}_i) / \mathrm{risk}_{i-1} &lt; \mathrm{eps\_for\_break}\).  <a href="#a6dccaf686895c4a3f9eb88a8f74e65fa">More...</a><br /></td></tr>
<tr class="separator:a6dccaf686895c4a3f9eb88a8f74e65fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcb9d558fd61e6d8e54dbfd955272ee"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a4fcb9d558fd61e6d8e54dbfd955272ee">oob_prediction</a></td></tr>
<tr class="memdesc:a4fcb9d558fd61e6d8e54dbfd955272ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">OOB prediction which is internally done in every iteration.  <a href="#a4fcb9d558fd61e6d8e54dbfd955272ee">More...</a><br /></td></tr>
<tr class="separator:a4fcb9d558fd61e6d8e54dbfd955272ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8effe8d73f093391873e3afbfb85323"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classdata_1_1_data.html">data::Data</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#ac8effe8d73f093391873e3afbfb85323">oob_data</a></td></tr>
<tr class="memdesc:ac8effe8d73f093391873e3afbfb85323"><td class="mdescLeft">&#160;</td><td class="mdescRight">The OOB data provided by the user.  <a href="#ac8effe8d73f093391873e3afbfb85323">More...</a><br /></td></tr>
<tr class="separator:ac8effe8d73f093391873e3afbfb85323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597783cacae66397b3c172c0c6fabcd3"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_oob_risk_logger.html#a597783cacae66397b3c172c0c6fabcd3">oob_response</a></td></tr>
<tr class="memdesc:a597783cacae66397b3c172c0c6fabcd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The response variable which corresponds to the given OOB data.  <a href="#a597783cacae66397b3c172c0c6fabcd3">More...</a><br /></td></tr>
<tr class="separator:a597783cacae66397b3c172c0c6fabcd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classlogger_1_1_logger"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlogger_1_1_logger')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlogger_1_1_logger.html">logger::Logger</a></td></tr>
<tr class="memitem:a57ca2ab531e0a7ac74f4ecd4b74a938f inherit pro_attribs_classlogger_1_1_logger"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlogger_1_1_logger.html#a57ca2ab531e0a7ac74f4ecd4b74a938f">is_a_stopper</a></td></tr>
<tr class="memdesc:a57ca2ab531e0a7ac74f4ecd4b74a938f inherit pro_attribs_classlogger_1_1_logger"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag if the logger is used as stopper.  <a href="classlogger_1_1_logger.html#a57ca2ab531e0a7ac74f4ecd4b74a938f">More...</a><br /></td></tr>
<tr class="separator:a57ca2ab531e0a7ac74f4ecd4b74a938f inherit pro_attribs_classlogger_1_1_logger"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classlogger_1_1_logger.html" title="Abstract logger class with minimal requirements to all logger. ">Logger</a> class to log the out of bag risk. </p>
<p>This class loggs the out of bag risk for a specific loss function and a map of new data. It is possible to define more than one inbag risk logger (e.g. for 2 different loss functions). For details about logging and stopping see the description of the <code><a class="el" href="classlogger_1_1_oob_risk_logger.html#a948a89f02ac782c25a15c49c4a108c02" title="Log current step of compboost iteration for class OobRiskLogger ">logStep()</a></code> function. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6c4e307fe35f2c1f329b5cddc1bfe56d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4e307fe35f2c1f329b5cddc1bfe56d">&#9670;&nbsp;</a></span>OobRiskLogger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logger::OobRiskLogger::OobRiskLogger </td>
          <td>(</td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>is_a_stopper0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classloss_1_1_loss.html">loss::Loss</a> *&#160;</td>
          <td class="paramname"><em>used_loss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>eps_for_break</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, <a class="el" href="classdata_1_1_data.html">data::Data</a> *&gt;&#160;</td>
          <td class="paramname"><em>oob_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>oob_response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>Default constructor of <code><a class="el" href="classlogger_1_1_oob_risk_logger.html" title="Logger class to log the out of bag risk. ">OobRiskLogger</a></code></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_a_stopper0</td><td><code>bool</code> to set if the logger should be used as stopper </td></tr>
    <tr><td class="paramname">used_loss</td><td><code>Loss*</code> which is used to calculate the empirical risk (this can differ from the loss used while trining the model) </td></tr>
    <tr><td class="paramname">eps_for_break</td><td><code>double</code> sets value of the stopping criteria </td></tr>
    <tr><td class="paramname">oob_data</td><td><code>std::map&lt;std::string, <a class="el" href="classdata_1_1_data.html">data::Data</a>*&gt;</code> the new data </td></tr>
    <tr><td class="paramname">oob_response</td><td><code>arma::vec</code> response of the new data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac1d85a315dc9b6c1897a3164f4997207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d85a315dc9b6c1897a3164f4997207">&#9670;&nbsp;</a></span>clearLoggerData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void logger::OobRiskLogger::clearLoggerData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the logger data. </p>
<p>This is an important thing which is called every time in front of retraining the model. If we don't clear the data, the new iterations are just pasted at the end of the existing vectors which couses some troubles. </p>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#a8c68db2430fa84b67528bfa6ae45a516">logger::Logger</a>.</p>

</div>
</div>
<a id="a74bfab14d3da0b10229c1ae99ab11337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74bfab14d3da0b10229c1ae99ab11337">&#9670;&nbsp;</a></span>getLoggedData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec logger::OobRiskLogger::getLoggedData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the data stored within the logger. </p>
<p>Return the data stored within the OOB risk logger.</p>
<p>This function returns the logged OOB risk.</p>
<dl class="section return"><dt>Returns</dt><dd><code>arma::vec</code> of elapsed out of bag risk </dd></dl>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#aa4fc254c532172db3404b7c0bcd17092">logger::Logger</a>.</p>

</div>
</div>
<a id="afb230d22eea9b1c025e6ff95685c692c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb230d22eea9b1c025e6ff95685c692c">&#9670;&nbsp;</a></span>initializeLoggerPrinter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string logger::OobRiskLogger::initializeLoggerPrinter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the head of the trace which is printed to the console. </p>
<dl class="section return"><dt>Returns</dt><dd><code>std::string</code> which is used to initialize the header of the trace </dd></dl>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#a825f96e8564ac4013ff09ef842c0aeec">logger::Logger</a>.</p>

</div>
</div>
<a id="a948a89f02ac782c25a15c49c4a108c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a948a89f02ac782c25a15c49c4a108c02">&#9670;&nbsp;</a></span>logStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void logger::OobRiskLogger::logStep </td>
          <td>(</td>
          <td class="paramtype">const unsigned int &amp;&#160;</td>
          <td class="paramname"><em>current_iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>prediction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classblearner_1_1_baselearner.html">blearner::Baselearner</a> *&#160;</td>
          <td class="paramname"><em>used_blearner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>learning_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log current step of compboost iteration for class <code><a class="el" href="classlogger_1_1_oob_risk_logger.html" title="Logger class to log the out of bag risk. ">OobRiskLogger</a></code> </p>
<p>This logger computes the risk for a given new dataset \(\mathcal{D}_\mathrm{oob} = \{(x_i,\ y_i)\ |\ i \in I_\mathrm{oob}\}\) and stores it into a vector. The OOB risk \(\mathcal{R}_\mathrm{oob}\) for iteration \(m\) is calculated by: </p><p class="formulaDsp">
\[ \mathcal{R}_\mathrm{oob}^{[m]} = \frac{1}{|\mathcal{D}_\mathrm{oob}|}\sum\limits_{(x,y) \in \mathcal{D}_\mathrm{oob}} L(y, \hat{f}^{[m]}(x)) \]
</p>
<p><b>Note:</b></p><ul>
<li>If \(m=0\) than \(\hat{f}\) is just the offset.</li>
<li><p class="startli">The implementation to calculate \(\mathcal{R}_\mathrm{oob}^{[m]}\) is done in two steps:</p><ol type="1">
<li>Calculate vector <code>risk_temp</code> of losses for every observation for given response \(y^{(i)}\) and prediction \(\hat{f}^{[m]}(x^{(i)})\).</li>
<li>Average over <code>risk_temp</code>.</li>
</ol>
<p class="startli">This procedure ensures, that it is possible to e.g. use the AUC or any arbitrary performance measure for risk logging. This gives just one value for <code>risk_temp</code> and therefore the average equals the loss function. If this is just a value (like for the AUC) then the value is returned.</p>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_iteration</td><td><code>unsigned int</code> of current iteration </td></tr>
    <tr><td class="paramname">response</td><td><code>arma::vec</code> of the given response used for training </td></tr>
    <tr><td class="paramname">prediction</td><td><code>arma::vec</code> actual prediction of the boosting model at iteration <code>current_iteration</code> </td></tr>
    <tr><td class="paramname">used_blearner</td><td><code>Baselearner*</code> pointer to the selected baselearner in iteration <code>current_iteration</code> </td></tr>
    <tr><td class="paramname">offset</td><td><code>double</code> of the overall offset of the training </td></tr>
    <tr><td class="paramname">learning_rate</td><td><code>double</code> lerning rate of the <code>current_iteration</code> </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#a91d987a86698e455b6fd3468f266d3fe">logger::Logger</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlogger_1_1_oob_risk_logger_a948a89f02ac782c25a15c49c4a108c02_cgraph.png" border="0" usemap="#classlogger_1_1_oob_risk_logger_a948a89f02ac782c25a15c49c4a108c02_cgraph" alt=""/></div>
<map name="classlogger_1_1_oob_risk_logger_a948a89f02ac782c25a15c49c4a108c02_cgraph" id="classlogger_1_1_oob_risk_logger_a948a89f02ac782c25a15c49c4a108c02_cgraph">
<area shape="rect" id="node2" href="classblearner_1_1_baselearner.html#a2393dc1e3cf90919ebbbd237fe303860" title="blearner::Baselearner\l::getDataIdentifier" alt="" coords="215,5,360,47"/>
<area shape="rect" id="node4" href="classblearner_1_1_baselearner.html#ab37986047db43c84420fef2cef7fc20d" title="blearner::Baselearner\l::predict" alt="" coords="215,71,360,112"/>
<area shape="rect" id="node5" href="classloss_1_1_loss.html#ae9f94dd9b8311397583ba3a9cb485e94" title="Specific loss function. " alt="" coords="208,137,367,163"/>
<area shape="rect" id="node3" href="classdata_1_1_data.html#a1af63a4e5aa708de31e1ffdd727a4e16" title="data::Data::getDataIdentifier" alt="" coords="415,13,597,39"/>
</map>
</div>

</div>
</div>
<a id="acab1638b5112232c86c2208b91f649fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab1638b5112232c86c2208b91f649fb">&#9670;&nbsp;</a></span>printLoggerStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string logger::OobRiskLogger::printLoggerStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print status of current iteration into the console. </p>
<p>The string which is created in this functions must have exactly the same length as the string from <code><a class="el" href="classlogger_1_1_oob_risk_logger.html#afb230d22eea9b1c025e6ff95685c692c" title="Print the head of the trace which is printed to the console. ">initializeLoggerPrinter()</a></code>. Those strings are printed line by line.</p>
<dl class="section return"><dt>Returns</dt><dd><code>std::string</code> which includes the log of the current iteration </dd></dl>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#abad818a7e8053ca84cb267e883b5e377">logger::Logger</a>.</p>

</div>
</div>
<a id="a5c1c8358ffcb5f5463b43f068ea21aa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1c8358ffcb5f5463b43f068ea21aa4">&#9670;&nbsp;</a></span>reachedStopCriteria()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool logger::OobRiskLogger::reachedStopCriteria </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop criteria is fulfilled if the relative improvement falls below <code>eps_for_break</code> </p>
<p>The stopping criteria is fulfilled, if the relative improvement at the current iteration \(m\) \(\varepsilon^{[m]}\) falls under a fixed boundary \(\varepsilon\). Where the relative improvement is defined by </p><p class="formulaDsp">
\[ \varepsilon^{[m]} = \frac{\mathcal{R}_\mathrm{oob}^{[m-1]} - \mathcal{R}_\mathrm{oob}^{[m]}}{\mathcal{R}_\mathrm{oob}^{[m-1]}}. \]
</p>
<p>The logger stops the algorithm if \(\varepsilon^{[m]} \leq \varepsilon\)</p>
<dl class="section return"><dt>Returns</dt><dd><code>bool</code> which tells if the stopping criteria is reached or not (if the logger isn't a stopper then this is always false) </dd></dl>

<p>Implements <a class="el" href="classlogger_1_1_logger.html#aed91421c07062b91cee158ef2bda7ae8">logger::Logger</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6dccaf686895c4a3f9eb88a8f74e65fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dccaf686895c4a3f9eb88a8f74e65fa">&#9670;&nbsp;</a></span>eps_for_break</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double logger::OobRiskLogger::eps_for_break</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stopping criteria, stop if \((\mathrm{risk}_{i-1} - \mathrm{risk}_i) / \mathrm{risk}_{i-1} &lt; \mathrm{eps\_for\_break}\). </p>

</div>
</div>
<a id="ac8effe8d73f093391873e3afbfb85323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8effe8d73f093391873e3afbfb85323">&#9670;&nbsp;</a></span>oob_data</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classdata_1_1_data.html">data::Data</a>*&gt; logger::OobRiskLogger::oob_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The OOB data provided by the user. </p>

</div>
</div>
<a id="a4fcb9d558fd61e6d8e54dbfd955272ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcb9d558fd61e6d8e54dbfd955272ee">&#9670;&nbsp;</a></span>oob_prediction</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec logger::OobRiskLogger::oob_prediction</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OOB prediction which is internally done in every iteration. </p>

</div>
</div>
<a id="a597783cacae66397b3c172c0c6fabcd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597783cacae66397b3c172c0c6fabcd3">&#9670;&nbsp;</a></span>oob_response</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec logger::OobRiskLogger::oob_response</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The response variable which corresponds to the given OOB data. </p>

</div>
</div>
<a id="a00a9435107588888c891c88aead67159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a9435107588888c891c88aead67159">&#9670;&nbsp;</a></span>tracked_oob_risk</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; logger::OobRiskLogger::tracked_oob_risk</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of OOB risk for every iteration. </p>

</div>
</div>
<a id="a40d02b9eec15e823bb2d71cf2112d6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d02b9eec15e823bb2d71cf2112d6ed">&#9670;&nbsp;</a></span>used_loss</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classloss_1_1_loss.html">loss::Loss</a>* logger::OobRiskLogger::used_loss</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used loss. <b>Note</b> that you can specify a different loss than the loss used for training. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/daniel/github_repos/compboost/src/<a class="el" href="logger_8h_source.html">logger.h</a></li>
<li>/home/daniel/github_repos/compboost/src/<a class="el" href="logger_8cpp.html">logger.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
